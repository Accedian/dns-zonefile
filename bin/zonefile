#!/usr/bin/env node

(function () {
    var fs = require('fs');
    var zonefile = require('../lib/zonefile.js');

    var args = function () {
        var ret = [];
        process.argv.forEach(function (val, index, array) {
            if (index >= 2) {
                ret.push(val);
            }
        });
        if (ret.length === 0) {
            ret.push(__dirname + '/../test/zonefile_data_forward.json');
            ret.push(__dirname + '/../test/zonefile_data_reverse.json');
        }
        return ret;
    };

    var input = args();

    for(var i in input) {
        var options = fs.readFileSync(input[i], 'utf8');
        var output = zonefile.generate(JSON.parse(options));
        console.log(output);
    }
})();